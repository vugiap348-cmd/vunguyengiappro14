
<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Äá» Thi Thá»­ THPT - Lá»‹ch Sá»­ - Sá»‘ 13</title>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Source+Sans+3:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --red:#c0392b;--red-light:#e74c3c;--gold:#d4a017;
    --dark:#1a1a2e;--mid:#0f3460;
    --light-bg:#f5f0e8;--card-bg:#fffdf8;--border:#d4c5a9;
    --text:#2c2c2c;--muted:#7a7a7a;
    --success:#27ae60;--error:#c0392b;--warning:#e67e22;
  }
  *{box-sizing:border-box;margin:0;padding:0;}
  body{font-family:'Source Sans 3',sans-serif;background:var(--light-bg);color:var(--text);min-height:100vh;}

  .exam-header{
    background:linear-gradient(135deg,var(--dark) 0%,var(--mid) 100%);
    color:white;padding:22px 32px;
    display:flex;align-items:center;justify-content:space-between;
    border-bottom:4px solid var(--gold);
    position:sticky;top:0;z-index:100;
    box-shadow:0 4px 20px rgba(0,0,0,0.3);
  }
  .exam-header-left h1{font-family:'Merriweather',serif;font-size:1.1rem;color:var(--gold);letter-spacing:1px;}
  .exam-header-left p{font-size:0.85rem;color:rgba(255,255,255,0.7);margin-top:4px;}
  .timer-wrap{
    display:flex;flex-direction:column;align-items:center;
    background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.2);
    border-radius:12px;padding:10px 20px;min-width:140px;
  }
  .timer-label{font-size:0.7rem;color:rgba(255,255,255,0.6);text-transform:uppercase;letter-spacing:2px;margin-bottom:4px;}
  .timer-display{font-family:'Merriweather',serif;font-size:2rem;font-weight:700;color:white;letter-spacing:3px;transition:color 0.3s;}
  .timer-display.warning{color:var(--warning);animation:pulse 1s infinite;}
  .timer-display.danger{color:var(--red-light);animation:pulse 0.5s infinite;}
  @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}

  .progress-bar-wrap{background:rgba(0,0,0,0.1);height:4px;position:sticky;top:85px;z-index:99;}
  .progress-bar{height:100%;background:linear-gradient(90deg,var(--gold),var(--red-light));transition:width 0.4s ease;width:0%;}

  .main{max-width:900px;margin:0 auto;padding:28px 20px 90px;}

  .section-title{
    font-family:'Merriweather',serif;font-size:1rem;color:white;
    background:var(--mid);padding:10px 20px;
    border-radius:8px 8px 0 0;border-left:5px solid var(--gold);
    margin-top:32px;
  }
  .section-desc{
    background:#eef2f8;border:1px solid #c9d8ee;border-top:none;
    padding:10px 20px;font-size:0.9rem;color:#2c4a7a;
    margin-bottom:16px;border-radius:0 0 8px 8px;
  }

  .question-card{
    background:var(--card-bg);border:1px solid var(--border);
    border-radius:12px;padding:22px 24px;margin-bottom:14px;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);transition:box-shadow 0.2s;
  }
  .question-card:hover{box-shadow:0 4px 16px rgba(0,0,0,0.09);}
  .question-num{font-size:0.73rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:7px;}
  .question-text{font-size:0.97rem;line-height:1.7;color:var(--text);margin-bottom:14px;font-weight:600;}

  .passage-box{
    background:#fff8e7;border:1px solid #e8d5a3;border-left:4px solid var(--gold);
    border-radius:8px;padding:16px 20px;margin-bottom:18px;
    font-size:0.9rem;line-height:1.85;color:#4a3a0d;font-style:italic;
  }
  .passage-source{font-size:0.8rem;color:var(--muted);text-align:right;margin-top:10px;font-style:normal;}

  .options{display:flex;flex-direction:column;gap:9px;}
  .option-label{
    display:flex;align-items:center;gap:12px;
    padding:11px 15px;border:2px solid var(--border);
    border-radius:8px;cursor:pointer;transition:all 0.18s;
    background:white;font-size:0.93rem;line-height:1.5;
  }
  .option-label:hover{border-color:var(--mid);background:#eef4ff;}
  .option-label input[type="radio"]{display:none;}
  .option-dot{
    width:22px;height:22px;border-radius:50%;border:2px solid #bbb;
    display:flex;align-items:center;justify-content:center;
    flex-shrink:0;font-size:0.7rem;font-weight:700;color:#999;transition:all 0.18s;
  }
  .option-label.selected{border-color:var(--mid);background:#ddeeff;}
  .option-label.selected .option-dot{background:var(--mid);border-color:var(--mid);color:white;}
  .option-label.correct{border-color:var(--success)!important;background:#eafaf1!important;}
  .option-label.correct .option-dot{background:var(--success)!important;border-color:var(--success)!important;color:white!important;}
  .option-label.wrong{border-color:var(--error)!important;background:#fdf0f0!important;}
  .option-label.wrong .option-dot{background:var(--error)!important;border-color:var(--error)!important;color:white!important;}

  .tf-grid{display:flex;flex-direction:column;gap:11px;}
  .tf-item{border:1px solid var(--border);border-radius:10px;padding:13px 16px;background:white;}
  .tf-item-label{font-size:0.93rem;line-height:1.7;margin-bottom:9px;color:var(--text);}
  .tf-item-label strong{color:var(--mid);}
  .tf-buttons{display:flex;gap:10px;}
  .tf-btn{
    padding:6px 20px;border-radius:6px;border:2px solid var(--border);
    background:white;cursor:pointer;font-size:0.87rem;font-weight:600;
    transition:all 0.18s;color:var(--text);
  }
  .tf-btn:hover{border-color:var(--mid);}
  .tf-btn.sel-T{border-color:var(--success);background:#eafaf1;color:var(--success);}
  .tf-btn.sel-F{border-color:var(--error);background:#fdf0f0;color:var(--error);}
  .tf-btn.ok-T{border-color:var(--success)!important;background:#eafaf1!important;color:var(--success)!important;font-weight:700;}
  .tf-btn.bad-T{border-color:var(--error)!important;background:#fdf0f0!important;color:var(--error)!important;}
  .tf-btn.ok-F{border-color:var(--success)!important;background:#eafaf1!important;color:var(--success)!important;font-weight:700;}
  .tf-btn.bad-F{border-color:var(--error)!important;background:#fdf0f0!important;color:var(--error)!important;}

  .submit-area{
    position:fixed;bottom:0;left:0;right:0;
    background:white;border-top:2px solid var(--border);
    padding:14px 32px;display:flex;align-items:center;justify-content:space-between;
    box-shadow:0 -4px 20px rgba(0,0,0,0.1);z-index:100;
  }
  .live-badge{
    display:inline-flex;align-items:center;gap:7px;
    background:linear-gradient(135deg,#1a1a2e,#0f3460);
    color:white;padding:4px 13px;border-radius:20px;
    font-size:0.75rem;font-weight:600;letter-spacing:0.5px;margin-bottom:5px;
  }
  .live-dot{width:7px;height:7px;border-radius:50%;background:#27ae60;animation:blink 1.3s infinite;}
  @keyframes blink{0%,100%{opacity:1}50%{opacity:0.25}}
  .answered-count{font-size:0.88rem;color:var(--muted);}
  .answered-count span{font-weight:700;color:var(--mid);font-size:1.05rem;}
  .btn-submit{
    background:linear-gradient(135deg,var(--red),var(--red-light));
    color:white;border:none;padding:12px 36px;border-radius:8px;
    font-size:1rem;font-weight:700;cursor:pointer;letter-spacing:0.5px;
    transition:all 0.2s;box-shadow:0 4px 14px rgba(192,57,43,0.3);
  }
  .btn-submit:hover{transform:translateY(-2px);box-shadow:0 7px 20px rgba(192,57,43,0.4);}
  .btn-submit:disabled{background:#aaa;cursor:not-allowed;transform:none;box-shadow:none;}

  .modal-overlay{
    display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);
    z-index:1000;align-items:center;justify-content:center;backdrop-filter:blur(4px);
  }
  .modal-overlay.show{display:flex;}
  .modal{
    background:white;border-radius:20px;padding:40px;
    max-width:520px;width:92%;text-align:center;
    box-shadow:0 20px 60px rgba(0,0,0,0.3);
    animation:mIn 0.4s cubic-bezier(0.34,1.56,0.64,1);
  }
  @keyframes mIn{from{transform:scale(0.7);opacity:0}to{transform:scale(1);opacity:1}}
  .modal-icon{font-size:4rem;margin-bottom:14px;display:block;}
  .modal h2{font-family:'Merriweather',serif;font-size:1.4rem;color:var(--dark);margin-bottom:8px;}
  .score-big{font-size:3.5rem;font-weight:700;color:var(--mid);margin:14px 0;font-family:'Merriweather',serif;}
  .score-detail{font-size:0.9rem;color:var(--muted);line-height:1.6;}
  .modal-actions{display:flex;gap:12px;justify-content:center;margin-top:22px;flex-wrap:wrap;}
  .score-row{display:flex;gap:12px;justify-content:center;margin:10px 0;flex-wrap:wrap;}
  .score-box{background:var(--light-bg);border:1px solid var(--border);border-radius:10px;padding:10px 15px;min-width:96px;}
  .score-box .sb-lbl{font-size:0.72rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;}
  .score-box .sb-val{font-size:1.4rem;font-weight:700;color:var(--dark);margin-top:2px;}
  .btn-retry{padding:10px 26px;border-radius:8px;border:2px solid var(--mid);background:white;color:var(--mid);font-weight:700;cursor:pointer;font-size:0.93rem;transition:all 0.2s;}
  .btn-retry:hover{background:var(--mid);color:white;}
  .btn-review{padding:10px 26px;border-radius:8px;border:none;background:linear-gradient(135deg,var(--mid),var(--dark));color:white;font-weight:700;cursor:pointer;font-size:0.93rem;}
  .btn-cancel{padding:10px 26px;border-radius:8px;border:2px solid #ccc;background:white;color:#555;font-weight:700;cursor:pointer;font-size:0.93rem;}
  .btn-confirm{padding:10px 26px;border-radius:8px;border:none;background:var(--red);color:white;font-weight:700;cursor:pointer;font-size:0.93rem;}
  .explanation{margin-top:11px;padding:10px 14px;background:#f0f8ff;border-left:3px solid var(--mid);border-radius:6px;font-size:0.87rem;color:#2c4a7a;display:none;}
  .explanation.show{display:block;}

  @media(max-width:600px){
    .exam-header{flex-direction:column;gap:10px;padding:14px;}
    .main{padding:18px 10px 90px;}
    .submit-area{padding:12px 16px;}
  }
</style>
</head>
<body>

<header class="exam-header">
  <div class="exam-header-left">
    <h1>Äá»€ THI THá»¬ THPT â€“ Sá» 13</h1>
    <p>MÃ´n Lá»‹ch Sá»­ &nbsp;|&nbsp; Thá»i gian: 50 phÃºt</p>
  </div>
  <div class="timer-wrap">
    <div class="timer-label">Thá»i gian cÃ²n láº¡i</div>
    <div class="timer-display" id="timerDisplay">45:00</div>
  </div>
</header>

<div class="progress-bar-wrap">
  <div class="progress-bar" id="progressBar"></div>
</div>

<main class="main">
  <div id="examContent"></div>
</main>

<div class="submit-area">
  <div>
    <div class="live-badge"><span class="live-dot"></span>Äang lÃ m bÃ i</div>
    <div class="answered-count">ÄÃ£ tráº£ lá»i: <span id="answeredCount">0</span> / <span id="totalQ">40</span> cÃ¢u</div>
  </div>
  <button class="btn-submit" id="btnSubmit" onclick="confirmSubmit()">ğŸ“© Ná»™p BÃ i</button>
</div>

<!-- Confirm Modal -->
<div class="modal-overlay" id="confirmModal">
  <div class="modal">
    <span class="modal-icon">ğŸ“‹</span>
    <h2>XÃ¡c nháº­n ná»™p bÃ i</h2>
    <p class="score-detail" id="confirmMsg" style="margin:14px 0;"></p>
    <div class="modal-actions" style="margin-top:14px;">
      <button class="btn-cancel" onclick="closeConfirm()">â† LÃ m tiáº¿p</button>
      <button class="btn-confirm" onclick="doSubmit()">Ná»™p bÃ i âœ“</button>
    </div>
  </div>
</div>

<!-- Result Modal -->
<div class="modal-overlay" id="resultModal">
  <div class="modal">
    <span class="modal-icon" id="resultIcon">ğŸ‰</span>
    <h2 id="resultTitle">Káº¿t quáº£ bÃ i thi</h2>
    <div class="score-big" id="scoreBig">0.00</div>
    <div class="score-row" id="scoreRow"></div>
    <p class="score-detail" id="scoreDetail"></p>
    <div class="modal-actions">
      <button class="btn-retry" onclick="retryExam()">ğŸ”„ LÃ m láº¡i</button>
      <button class="btn-review" onclick="reviewAnswers()">ğŸ“‹ Xem Ä‘Ã¡p Ã¡n</button>
    </div>
  </div>
</div>

<script>
// ============================================================
// DATA â€“ PHáº¦N I (24 cÃ¢u)
// ============================================================
const PART1 = [
  {id:'q1', text:'CÃ¢u 1. Ná»™i dung nÃ o sau Ä‘Ã¢y khÃ´ng pháº£i lÃ  nguyÃªn nhÃ¢n cÆ¡ báº£n dáº«n tá»›i sá»± khá»§ng hoáº£ng vÃ  sá»¥p Ä‘á»• cá»§a chá»§ nghÄ©a xÃ£ há»™i á»Ÿ LiÃªn XÃ´ vÃ  ÄÃ´ng Ã‚u?',
   opts:['A. ChÆ°a táº­n dá»¥ng tá»‘t thÃ nh tá»±u cÃ¡ch máº¡ng khoa há»c â€“ kÄ© thuáº­t.','B. MÃ¢u thuáº«n chÃ­nh trá»‹ trong ná»™i bá»™ cÃ¡c nÆ°á»›c tÆ° báº£n chá»§ nghÄ©a.','C. Sá»± chá»‘ng phÃ¡ cá»§a cÃ¡c tháº¿ lá»±c thÃ¹ Ä‘á»‹ch trong vÃ  ngoÃ i nÆ°á»›c.','D. ÄÆ°á»ng lá»‘i lÃ£nh Ä‘áº¡o sai láº§m, mang tÃ­nh chá»§ quan, duy Ã½ chÃ­.'], ans:1},
  {id:'q2', text:'CÃ¢u 2. Sau khi LÃª-nin qua Ä‘á»i, nhÃ¢n váº­t nÃ o sau Ä‘Ã¢y Ä‘Ã£ Ä‘áº£m nháº­n vai trÃ² Ä‘á»©ng Ä‘áº§u ChÃ­nh quyá»n XÃ´ viáº¿t?',
   opts:['A. LÃª-nin.','B. Sta-lin.','C. Pu-tin.','D. GoÃ³c-ba-chá»‘p.'], ans:1},
  {id:'q3', text:'CÃ¢u 3. Trong thá»i ká»³ phong kiáº¿n, Ä‘á»‘i tÆ°á»£ng xÃ¢m lÆ°á»£c Viá»‡t Nam chá»§ yáº¿u Ä‘áº¿n tá»«',
   opts:['A. Nháº­t Báº£n.','B. Trung Quá»‘c.','C. PhÆ°Æ¡ng TÃ¢y.','D. ThÃ¡i Lan.'], ans:1},
  {id:'q4', text:'CÃ¢u 4. Ná»™i dung nÃ o sau Ä‘Ã¢y khÃ´ng pháº£n Ã¡nh Ä‘Ãºng Ä‘Ã³ng gÃ³p cá»§a phong trÃ o TÃ¢y SÆ¡n tháº¿ ká»‰ XVIII Ä‘á»‘i vá»›i lá»‹ch sá»­ dÃ¢n tá»™c Viá»‡t Nam?',
   opts:['A. Báº£o vá»‡ vá»¯ng cháº¯c ná»n Ä‘á»™c láº­p cá»§a dÃ¢n tá»™c.','B. Láº­t Ä‘á»• cÃ¡c táº­p Ä‘oÃ n phong kiáº¿n pháº£n Ä‘á»™ng.','C. ThÃ nh láº­p NhÃ  nÆ°á»›c dÃ¢n chá»§ á»Ÿ Viá»‡t Nam.','D. Äáº·t cÆ¡ sá»Ÿ cho sá»± nghiá»‡p thá»‘ng nháº¥t quá»‘c gia.'], ans:2},
  {id:'q5', text:'CÃ¢u 5. Quyáº¿t Ä‘á»‹nh nÃ o sau Ä‘Ã¢y cá»§a Há»™i nghá»‹ Ianta (2 â€“ 1945) lÃ  má»™t trong nhá»¯ng nhÃ¢n tá»‘ trá»±c tiáº¿p Ä‘Æ°a Ä‘áº¿n sá»± phÃ¢n chia hai cá»±c trong quan há»‡ quá»‘c táº¿ sau Chiáº¿n tranh tháº¿ giá»›i thá»© hai?',
   opts:['A. Thá»‘ng nháº¥t tiÃªu diá»‡t táº­n gá»‘c chá»§ nghÄ©a phÃ¡t xÃ­t Äá»©c vÃ  chá»§ nghÄ©a quÃ¢n phiá»‡t Nháº­t.','B. LiÃªn XÃ´ sáº½ tham gia chá»‘ng Nháº­t á»Ÿ chÃ¢u Ã sau khi chiáº¿n tranh káº¿t thÃºc á»Ÿ chÃ¢u Ã‚u.','C. Thá»‘ng nháº¥t thÃ nh láº­p tá»• chá»©c LiÃªn há»£p quá»‘c Ä‘á»ƒ duy trÃ¬ hoÃ  bÃ¬nh, an ninh quá»‘c táº¿.','D. Thoáº£ thuáº­n viá»‡c phÃ¢n chia pháº¡m vi áº£nh hÆ°á»Ÿng giá»¯a cÃ¡c nÆ°á»›c á»Ÿ chÃ¢u Ã‚u vÃ  chÃ¢u Ã.'], ans:3},
  {id:'q6', text:'CÃ¢u 6. NguyÃªn thá»§ quá»‘c gia nÃ o sau Ä‘Ã¢y tham dá»± há»™i nghá»‹ Ianta (2/1945)?',
   opts:['A. Äá»©c.','B. Anh.','C. Trung Quá»‘c.','D. PhÃ¡p.'], ans:1},
  {id:'q7', text:'CÃ¢u 7. Hiá»‡p há»™i cÃ¡c quá»‘c gia ÄÃ´ng Nam Ã (ASEAN) thÃ nh láº­p nÄƒm 1967, dá»±a vÃ o Ä‘iá»u kiá»‡n tiÃªn quyáº¿t nÃ o sau Ä‘Ã¢y?',
   opts:['A. CÃ¡c quá»‘c gia sÃ¡ng láº­p cÃ³ ná»n kinh táº¿ phÃ¡t triá»ƒn máº¡nh.','B. CÃ¡c quá»‘c gia sÃ¡ng láº­p Ä‘Ã£ giÃ nh Ä‘Æ°á»£c Ä‘á»™c láº­p chÃ­nh trá»‹.','C. CÃ¡c quá»‘c gia sÃ¡ng láº­p cÃ³ sá»± giá»‘ng nhau vá» ngÃ´n ngá»¯.','D. CÃ¡c quá»‘c gia sÃ¡ng láº­p Ä‘á»u lÃ  thÃ nh viÃªn cá»§a SEATO.'], ans:1},
  {id:'q8', text:'CÃ¢u 8. Ná»™i dung nÃ o sau Ä‘Ã¢y thá»ƒ hiá»‡n sá»± Ä‘Ã³ng gÃ³p cá»§a Viá»‡t Nam trong Hiá»‡p há»™i cÃ¡c quá»‘c gia ÄÃ´ng Nam Ã (ASEAN)?',
   opts:['A. Quyáº¿t Ä‘á»‹nh thÃ nh láº­p Cá»™ng Ä‘á»“ng VÄƒn hoÃ¡ â€“ XÃ£ há»™i (ASCC).','B. ThÃºc Ä‘áº©y quan há»‡ há»£p tÃ¡c chiáº¿n lÆ°á»£c giá»¯a ASEAN vá»›i Má»¹.','C. Chá»§ Ä‘á»™ng Ä‘Æ°a ra sÃ¡ng kiáº¿n há»£p tÃ¡c "vÃ nh Ä‘ai vÃ  con Ä‘Æ°á»ng".','D. Gáº¯n káº¿t, thÃºc Ä‘áº©y sá»± Ä‘oÃ n káº¿t giá»¯a cÃ¡c quá»‘c gia ÄÃ´ng Nam Ã.'], ans:3},
  {id:'q9', text:'CÃ¢u 9. ASEAN + 3 lÃ  cÆ¡ cháº¿ há»£p tÃ¡c giá»¯a ASEAN vá»›i nhá»¯ng quá»‘c gia nÃ o sau Ä‘Ã¢y?',
   opts:['A. Hoa Ká»³, Nháº­t Báº£n, HÃ n Quá»‘c.','B. Nháº­t Báº£n, PhÃ¡p, Trung Quá»‘c.','C. Nháº­t Báº£n, Anh, Trung Quá»‘c.','D. Nháº­t Báº£n, HÃ n Quá»‘c, Trung Quá»‘c.'], ans:3},
  {id:'q10', text:'CÃ¢u 10. Cuá»™c khÃ¡ng chiáº¿n chá»‘ng PhÃ¡p (1945 â€“ 1954) diá»…n ra trong bá»‘i cáº£nh nÃ o sau Ä‘Ã¢y?',
   opts:['A. Äáº¥t nÆ°á»›c táº¡m thá»i bá»‹ chia cáº¯t lÃ m hai miá»n.','B. Xu tháº¿ hoÃ  hoÃ£n ÄÃ´ng - TÃ¢y Ä‘Ã£ xuáº¥t hiá»‡n.','C. Quan há»‡ giá»¯a Má»¹ vÃ  LiÃªn XÃ´ Ä‘ang áº¥m lÃªn.','D. Há»‡ thá»‘ng xÃ£ há»™i chá»§ nghÄ©a Ä‘ang hÃ¬nh thÃ nh.'], ans:3},
  {id:'q11', text:'CÃ¢u 11. Má»™t trong nhá»¯ng Ä‘iá»ƒm khÃ¡c biá»‡t giá»¯a chiáº¿n dá»‹ch BiÃªn giá»›i thu â€“ Ä‘Ã´ng (1950) vá»›i chiáº¿n dá»‹ch Viá»‡t Báº¯c thu â€“ Ä‘Ã´ng (1947) cá»§a quÃ¢n dÃ¢n Viá»‡t Nam lÃ ',
   opts:['A. tinh tháº§n, quyáº¿t tÃ¢m cá»§a dÃ¢n tá»™c.','B. cÃ³ sá»± chi viá»‡n cá»§a háº­u phÆ°Æ¡ng.','C. Ä‘Æ°á»£c sá»± chi viá»‡n cá»§a quá»‘c táº¿.','D. Ä‘á»‹a bÃ n tÃ¡c chiáº¿n chiáº¿n dá»‹ch.'], ans:2},
  {id:'q12', text:'CÃ¢u 12. ThÃ¡ng 3 nÄƒm 1988, Trung Quá»‘c Ä‘Ã£ sá»­ dá»¥ng lá»±c lÆ°á»£ng lá»›n táº¥n cÃ´ng vÃ o Ä‘áº£o',
   opts:['A. PhÃº LÃ¢m.','B. Gáº¡c Ma.','C. ÄÃ¡ Báº¯c.','D. Ba BÃ¬nh.'], ans:1},
  {id:'q13', text:'CÃ¢u 13. Ná»™i dung nÃ o sau Ä‘Ã¢y pháº£n Ã¡nh Ä‘Ãºng tÃ¬nh hÃ¬nh quan há»‡ Viá»‡t-Trung tá»« giá»¯a nÄƒm 1975 Ä‘áº¿n 1978?',
   opts:['A. Váº«n duy trÃ¬ ráº¥t tá»‘t Ä‘áº¹p.','B. Dáº§n trá»Ÿ nÃªn cÄƒng tháº³ng.','C. Äá»“ng minh thÃ¢n thiáº¿t.','D. LÃ  Ä‘á»‘i tÃ¡c chiáº¿n lÆ°á»£c.'], ans:1},
  {id:'q14', text:'CÃ¢u 14. Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  bá»‘i cáº£nh cá»§a cÃ´ng cuá»™c Ä‘á»•i má»›i á»Ÿ Viá»‡t Nam (tá»« thÃ¡ng 12 â€“ 1986)?',
   opts:['A. Äáº¥t nÆ°á»›c lÃ¢m vÃ o khá»§ng hoáº£ng kinh táº¿ - xÃ£ há»™i.','B. Há»‡ thá»‘ng xÃ£ há»™i chá»§ nghÄ©a Ä‘ang hÃ¬nh thÃ nh.','C. Äáº¥t nÆ°á»›c Ä‘ang trÃªn Ä‘Ã  phÃ¡t triá»ƒn nhanh chÃ³ng.','D. Tráº­t tá»± tháº¿ giá»›i hai cá»±c Ianta Ä‘Ã£ bá»‹ sá»¥p Ä‘á»•.'], ans:0},
  {id:'q15', text:'CÃ¢u 15. Há»£p tÃ¡c kinh táº¿ giá»¯a cÃ¡c nÆ°á»›c ASEAN tÄƒng lÃªn nhanh chÃ³ng tá»« khi nÃ o?',
   opts:['A. Cá»™ng Ä‘á»“ng kinh táº¿ ASEAN Ä‘Æ°á»£c thÃ nh láº­p.','B. Há»™i nghá»‹ cáº¥p cao ASEAN láº§n thá»© 10 (2004).','C. ASEAN trá»Ÿ thÃ nh tá»• chá»©c toÃ n khu vá»±c.','D. Há»™i nghá»‹ cáº¥p cao ba nÆ°á»›c ÄÃ´ng DÆ°Æ¡ng.'], ans:0},
  {id:'q16', text:'CÃ¢u 16. NÄƒm 1978, Viá»‡t Nam gia nháº­p tá»• chá»©c nÃ o sau Ä‘Ã¢y?',
   opts:['A. SEV.','B. EU.','C. ASEAN.','D. NATO.'], ans:0},
  {id:'q17', text:'CÃ¢u 17. Trong quÃ¡ trÃ¬nh tiáº¿n hÃ nh cÃ¡c hoáº¡t Ä‘á»™ng Ä‘á»‘i ngoáº¡i giai Ä‘oáº¡n tá»« 1975 Ä‘áº¿n 1985, Viá»‡t Nam Ä‘Ã£ tham gia',
   opts:['A. Phong trÃ o khÃ´ng liÃªn káº¿t.','B. Cá»™ng Ä‘á»“ng than thÃ©p.','C. Cá»™ng Ä‘á»“ng nÄƒng lÆ°á»£ng.','D. Cá»™ng Ä‘á»“ng kinh táº¿ ASEAN.'], ans:0},
  {id:'q18', text:'CÃ¢u 18. Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  trá»Ÿ ngáº¡i lá»›n nháº¥t trong quÃ¡ trÃ¬nh Viá»‡t Nam há»™i nháº­p vá»›i ÄÃ´ng Nam Ã trong giai Ä‘oáº¡n tá»« 1975-1991?',
   opts:['A. QuÃ¢n Ä‘á»™i quÃ¡ hÃ¹ng máº¡nh.','B. "Váº¥n Ä‘á» Campuchia".','C. Bá»‹ Trung Quá»‘c ngÄƒn cáº£n.','D. Kinh táº¿ Viá»‡t Nam láº¡c háº­u.'], ans:1},
  {id:'q19', text:'CÃ¢u 19. Trong thá»i gian hoáº¡t Ä‘á»™ng á»Ÿ Trung Quá»‘c (1924-1927) Nguyá»…n Ãi Quá»‘c Ä‘Ã£ má»Ÿ nhiá»u lá»›p bá»“i dÆ°á»¡ng cÃ¡n bá»™ cÃ¡ch máº¡ng nháº±m má»¥c Ä‘Ã­ch nÃ o sau Ä‘Ã¢y?',
   opts:['A. Nhanh chÃ³ng thÃ nh láº­p Äáº£ng Cá»™ng sáº£n á»Ÿ Viá»‡t Nam.','B. ÄÃ o táº¡o lá»›p cÃ¡n bá»™ cÃ¡ch máº¡ng cá»‘t cÃ¡n vÃ  kiÃªn trung.','C. ThÃºc Ä‘áº©y cuá»™c khá»Ÿi nghÄ©a vÅ© trang giÃ nh chÃ­nh quyá»n.','D. Táº¡o Ä‘iá»u kiá»‡n cho sá»± ra Ä‘á»i cá»§a cÃ¡c tá»• chá»©c yÃªu nÆ°á»›c.'], ans:1},
  {id:'q20', text:'CÃ¢u 20. Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  tÆ° tÆ°á»Ÿng cá»‘t lÃµi cá»§a CÆ°Æ¡ng lÄ©nh chÃ­nh trá»‹ (Ä‘áº§u nÄƒm 1930) do Nguyá»…n Ãi Quá»‘c soáº¡n tháº£o?',
   opts:['A. Äá»™c láº­p dÃ¢n tá»™c.','B. Äá»™c láº­p, tá»± do.','C. DÃ¢n sinh, dÃ¢n chá»§.','D. CÆ¡m Ã¡o, hÃ²a bÃ¬nh.'], ans:1},
  {id:'q21', text:'CÃ¢u 21. Ná»™i dung nÃ o sau Ä‘Ã¢y pháº£n Ã¡nh Ä‘Ãºng nhá»¯ng Ä‘Ã³ng gÃ³p cá»§a Nguyá»…n Ãi Quá»‘c Ä‘á»‘i vá»›i cÃ¡ch máº¡ng Viá»‡t Nam trong giai Ä‘oáº¡n 1911-1930?',
   opts:['A. HoÃ n chá»‰nh Ä‘iá»u kiá»‡n cho sá»± bÃ¹ng ná»• cá»§a cÃ¡ch máº¡ng giáº£i phÃ³ng dÃ¢n tá»™c.','B. Chuyá»ƒn hÆ°á»›ng cÃ¡ch máº¡ng, Ä‘áº·t nhiá»‡m vá»¥ giáº£i phÃ³ng dÃ¢n tá»™c lÃªn hÃ ng Ä‘áº§u.','C. Chuáº©n bá»‹ nhá»¯ng Ä‘iá»u kiá»‡n cáº§n thiáº¿t vá» tÆ° tÆ°á»Ÿng, tá»• chá»©c Ä‘á»ƒ thÃ nh láº­p Äáº£ng.','D. Tranh thá»§ á»§ng há»™, cÃ´ng nháº­n cá»§a LiÃªn XÃ´ Ä‘á»‘i vá»›i Äáº£ng Cá»™ng sáº£n Viá»‡t Nam.'], ans:2},
  {id:'q22', text:'CÃ¢u 22. Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  bÃ i há»c kinh nghiá»‡m Ä‘Æ°á»£c rÃºt ra tá»« cÃ´ng cuá»™c Ä‘á»•i má»›i Ä‘áº¥t nÆ°á»›c Ä‘Æ°á»£c tiáº¿n hÃ nh tá»« 1986 Ä‘áº¿n nay?',
   opts:['A. QuÃ¡n triá»‡t, thá»±c hiá»‡n nghiÃªm tÃºc quan Ä‘iá»ƒm "dÃ¢n lÃ  gá»‘c".','B. Tranh thá»§ sá»± á»§ng há»™, giÃºp Ä‘á»¡ cá»§a LiÃªn XÃ´ vÃ  Trung Quá»‘c.','C. Táº­p trung kháº¯c phá»¥c tÃ¬nh tráº¡ng máº¥t dÃ¢n chá»§ trong Äáº£ng.','D. KiÃªn quyáº¿t giá»¯ vá»¯ng liÃªn minh vá»›i cÃ¡c nÆ°á»›c ÄÃ´ng DÆ°Æ¡ng.'], ans:0},
  {id:'q23', text:'CÃ¢u 23. Nháº­n xÃ©t nÃ o sau Ä‘Ã¢y lÃ  Ä‘Ãºng vá» má»™t trong nhá»¯ng vai trÃ² cá»§a lá»±c lÆ°á»£ng chÃ­nh trá»‹ trong CÃ¡ch máº¡ng thÃ¡ng TÃ¡m nÄƒm 1945 á»Ÿ Viá»‡t Nam?',
   opts:['A. LÃ£nh Ä‘áº¡o tháº¯ng lá»£i cuá»™c cÃ¡ch máº¡ng thÃ¡ng TÃ¡m.','B. LÃ  lá»±c lÆ°á»£ng xung kÃ­ch trong Tá»•ng khá»Ÿi nghÄ©a.','C. Tá»• chá»©c Ä‘á»ƒ Ä‘oÃ n káº¿t toÃ n dÃ¢n tá»™c giÃ nh Ä‘á»™c láº­p.','D. TÄƒng cÆ°á»ng sá»©c máº¡nh cho lá»±c lÆ°á»£ng vÅ© trang.'], ans:3},
  {id:'q24', text:'CÃ¢u 24. Nháº­n xÃ©t nÃ o sau Ä‘Ã¢y lÃ  Ä‘Ãºng vá» Ä‘áº·c Ä‘iá»ƒm ná»•i báº­t cá»§a quan há»‡ quá»‘c táº¿ tá»« Ä‘áº§u nhá»¯ng nÄƒm 70 cá»§a tháº¿ ká»· XX Ä‘áº¿n nÄƒm 1991?',
   opts:['A. Äá»‘i Ä‘áº§u vÃ  chiáº¿n tranh gay gáº¯t.','B. Vá»«a Ä‘á»‘i Ä‘áº§u vá»«a Ä‘á»‘i thoáº¡i, há»£p tÃ¡c.','C. Äá»‘i thoáº¡i hÃ²a bÃ¬nh lÃ  xu tháº¿ chá»§ Ä‘áº¡o.','D. LiÃªn minh giá»¯a Má»¹ vÃ  LiÃªn XÃ´ ra Ä‘á»i.'], ans:1}
];

// ============================================================
// DATA â€“ PHáº¦N II (4 cÃ¢u)
// ============================================================
const PART2 = [
  {
    id:'p2q1',
    title:'CÃ¢u 1. Cho nhá»¯ng thÃ´ng tin trong báº£ng sau Ä‘Ã¢y:',
    table:`<table style="width:100%;border-collapse:collapse;font-size:0.86rem;margin-bottom:4px;">
      <thead><tr style="background:var(--mid);color:white;">
        <th style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;white-space:nowrap;">TT</th>
        <th style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;white-space:nowrap;">Thá»i gian</th>
        <th style="border:1px solid #c9d8ee;padding:8px 14px;text-align:left;">Ná»™i dung chÃ­nh</th>
      </tr></thead>
      <tbody>
        <tr><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;">1</td><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;white-space:nowrap;">1996-1998</td><td style="border:1px solid #c9d8ee;padding:8px 14px;">- Má»™t trong nhá»¯ng nÆ°á»›c Ä‘áº§u tiÃªn kÃ½ Hiá»‡p Æ°á»›c Cáº¥m thá»­ háº¡t nhÃ¢n toÃ n diá»‡n.<br>- ThÃ nh viÃªn chÃ­nh thá»©c cá»§a CÃ´ng Æ°á»›c Cáº¥m vÅ© khÃ­ hoÃ¡ há»c.</td></tr>
        <tr style="background:#eef2f8;"><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;">2</td><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;white-space:nowrap;">2008-2009</td><td style="border:1px solid #c9d8ee;padding:8px 14px;">Uá»· viÃªn khÃ´ng thÆ°á»ng trá»±c cá»§a Há»™i Ä‘á»“ng Báº£o an LiÃªn há»£p quá»‘c.</td></tr>
        <tr><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;">3</td><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;white-space:nowrap;">2012-2015</td><td style="border:1px solid #c9d8ee;padding:8px 14px;">LÃ  nÆ°á»›c Ä‘áº§u tiÃªn cÃ³ Má»™t ngÃ´i nhÃ  xanh chung cá»§a LiÃªn há»£p quá»‘c.</td></tr>
        <tr style="background:#eef2f8;"><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;">4</td><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;white-space:nowrap;">2014-2016</td><td style="border:1px solid #c9d8ee;padding:8px 14px;">- Viá»‡t Nam báº¯t Ä‘áº§u cá»­ lá»±c lÆ°á»£ng tham gia cÃ¡c hoáº¡t Ä‘á»™ng giá»¯ gÃ¬n hoÃ  bÃ¬nh cá»§a LiÃªn há»£p quá»‘c.<br>- ThÃ nh viÃªn cá»§a Há»™i Ä‘á»“ng NhÃ¢n quyá»n.</td></tr>
        <tr><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;">5</td><td style="border:1px solid #c9d8ee;padding:8px 10px;text-align:center;font-weight:700;white-space:nowrap;">2020-2021</td><td style="border:1px solid #c9d8ee;padding:8px 14px;">- HoÃ n thÃ nh xuáº¥t sáº¯c vai trÃ² Uá»· viÃªn khÃ´ng thÆ°á»ng trá»±c cá»§a Há»™i Ä‘á»“ng Báº£o an LiÃªn há»£p quá»‘c.<br>- LiÃªn há»£p quá»‘c thÃ´ng qua NgÃ y Quá»‘c táº¿ chá»‘ng dá»‹ch bá»‡nh 27/12 do Viá»‡t Nam Ä‘á» xuáº¥t.</td></tr>
      </tbody>
    </table>`,
    items:[
      {lbl:'a', txt:'TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n nhá»¯ng hoáº¡t Ä‘á»™ng vÃ  Ä‘Ã³ng gÃ³p tÃ­ch cá»±c cá»§a Viá»‡t Nam Ä‘á»‘i vá»›i tá»• chá»©c LiÃªn há»£p quá»‘c.', ans:true},
      {lbl:'b', txt:'Viá»‡t Nam Ä‘Ã£ Ä‘Æ°á»£c báº§u lÃ  á»§y viÃªn thÆ°á»ng trá»±c Há»™i Ä‘á»“ng báº£o an LiÃªn há»£p quá»‘c trong hai nhiá»‡m ká»³.', ans:false},
      {lbl:'c', txt:'Nhá»¯ng hoáº¡t Ä‘á»™ng vÃ  Ä‘Ã³ng gÃ³p cá»§a Viá»‡t Nam táº¡i LiÃªn há»£p quá»‘c Ä‘Ã£ kháº³ng Ä‘á»‹nh vai trÃ² cÆ°á»ng quá»‘c trong quan há»‡ quá»‘c táº¿.', ans:false},
      {lbl:'d', txt:'Viá»‡t Nam Ä‘Ã£ thá»ƒ hiá»‡n trÃ¡ch nhiá»‡m quá»‘c táº¿ trong viá»‡c thá»±c hiá»‡n má»¥c tiÃªu quan trá»ng nháº¥t cá»§a LiÃªn há»£p quá»‘c.', ans:true}
    ]
  },
  {
    id:'p2q2',
    title:'CÃ¢u 2: Cho Ä‘oáº¡n tÆ° liá»‡u sau Ä‘Ã¢y:',
    passage:`"Thu-Ä‘Ã´ng nÄƒm 1950, Ä‘Ã¡p lá»i kÃªu gá»i cá»§a Chá»§ tá»‹ch Há»“ ChÃ­ Minh vÃ  cháº¥p hÃ nh má»‡nh lá»‡nh cá»§a Bá»™ Tá»•ng tÆ° lá»‡nh, cÃ¡c lá»±c lÆ°á»£ng vÅ© trang anh dÅ©ng chiáº¿n Ä‘áº¥u trÃªn máº·t tráº­n BiÃªn giá»›i, tiáº¿n cÃ´ng ÄÃ´ng KhÃª, táº¡o thá»i cÆ¡ Ä‘Ã¡nh Ä‘á»‹ch ngoÃ i cÃ´ng sá»±, ... láº§n lÆ°á»£t tiÃªu diá»‡t tá»«ng binh Ä‘oÃ n quÃ¢n PhÃ¡p. CÃ¡c lá»±c lÆ°á»£ng vÅ© trang vÃ  nhÃ¢n dÃ¢n cáº£ nÆ°á»›c tÃ­ch cá»±c hoáº¡t Ä‘á»™ng, phá»‘i há»£p cháº·t cháº½ vÃ  hiá»‡u quáº£ vá»›i máº·t tráº­n chÃ­nh diá»‡n. á» vÃ¹ng sau lÆ°ng Ä‘á»‹ch, phong trÃ o chiáº¿n tranh du kÃ­ch phÃ¡t triá»ƒn rá»™ng kháº¯p.".`,
    src:'VÅ© Quang Hiá»ƒn: Chiáº¿n tranh nhÃ¢n dÃ¢n Viá»‡t Nam thá»i ká»³ 1945 â€“ 1954, NXB Äáº¡i há»c ThÃ¡i NguyÃªn, 2021, tr. 169',
    items:[
      {lbl:'a', txt:'TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n sá»± phÃ¡t triá»ƒn cá»§a cuá»™c khÃ¡ng chiáº¿n toÃ n quá»‘c chá»‘ng thá»±c dÃ¢n PhÃ¡p, tiÃªu biá»ƒu lÃ  chiáº¿n dá»‹ch BiÃªn giá»›i 1950.', ans:true},
      {lbl:'b', txt:'Tá»« nÄƒm 1950, cuá»™c khÃ¡ng chiáº¿n cá»§a Viá»‡t Nam Ä‘Ã£ cÃ³ sá»± phá»‘i há»£p giá»¯a chiáº¿n trÆ°á»ng chÃ­nh diá»‡n vÃ  vÃ¹ng sau lÆ°ng Ä‘á»‹ch.', ans:false},
      {lbl:'c', txt:'Chiáº¿n dá»‹ch BiÃªn giá»›i 1950 Ä‘Ã£ Ä‘Æ°a cuá»™c khÃ¡ng chiáº¿n sang giai Ä‘oáº¡n má»›i, giÃ nh Ä‘Æ°á»£c tháº¿ chá»§ Ä‘á»™ng chiáº¿n lÆ°á»£c á»Ÿ Báº¯c Bá»™.', ans:true},
      {lbl:'d', txt:'Sau chiáº¿n dá»‹ch biÃªn giá»›i 1950, quÃ¢n PhÃ¡p lÃºn sÃ¢u vÃ o tháº¿ bá»‹ Ä‘á»™ng, pháº£i cháº¥p nháº­n Ä‘Ã m phÃ¡n vÃ  cháº¥m dá»©t chiáº¿n tranh.', ans:false}
    ]
  },
  {
    id:'p2q3',
    title:'CÃ¢u 3: Cho Ä‘oáº¡n tÆ° liá»‡u sau Ä‘Ã¢y:',
    passage:`"Äá»ƒ lÃ m Ä‘á»§ Äƒn vÃ  cÃ³ tÃ­ch luá»¹, pháº£i ra sá»©c phÃ¡t triá»ƒn sáº£n xuáº¥t, giáº£m tá»· lá»‡ sinh Ä‘áº», vÃ  Ä‘á»ƒ sáº£n xuáº¥t phÃ¡t triá»ƒn, pháº£i xÃ¢y dá»±ng Ä‘Æ°á»£c má»™t cÆ¡ cáº¥u kinh táº¿ há»£p lÃ½, trÆ°á»›c háº¿t lÃ  cÆ¡ cáº¥u cÃ¡c ngÃ nh kinh táº¿, phÃ¹ há»£p vá»›i tÃ­nh quy luáº­t vá» sá»± phÃ¡t triá»ƒn cÃ¡c ngÃ nh sáº£n xuáº¥t váº­t cháº¥t, phÃ¹ há»£p vá»›i kháº£ nÄƒng cá»§a Ä‘áº¥t nÆ°á»›c vÃ  phÃ¹ há»£p vá»›i sá»± phÃ¢n cÃ´ng lao Ä‘á»™ng vÃ  há»£p tÃ¡c quá»‘c táº¿. CÆ¡ cáº¥u kinh táº¿ Ä‘Ã³ báº£o Ä‘áº£m cho ná»n kinh táº¿ phÃ¡t triá»ƒn cÃ¢n Ä‘á»‘i vá»›i nhá»‹p Ä‘á»™ tÄƒng trÆ°á»Ÿng á»•n Ä‘á»‹nh"`,
    src:'(TrÃ­ch: "VÄƒn kiá»‡n Äáº¡i há»™i Äáº£ng thá»i kÃ¬ Ä‘á»•i má»›i", NXB ChÃ­nh trá»‹ quá»‘c gia sá»± tháº­t, HÃ  Ná»™i 2019, tr 44)',
    items:[
      {lbl:'a', txt:'TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n quan Ä‘iá»ƒm xÃ¢y dá»±ng vÃ  phÃ¡t triá»ƒn cÆ¡ cáº¥u kinh táº¿ trong giai Ä‘oáº¡n Ä‘á»•i má»›i Ä‘áº¥t nÆ°á»›c á»Ÿ Viá»‡t Nam.', ans:true},
      {lbl:'b', txt:'Trong Ä‘á»•i má»›i Ä‘áº¥t nÆ°á»›c, Viá»‡t Nam coi Ä‘á»•i má»›i kinh táº¿ lÃ  trá»ng tÃ¢m, lÃ  cÆ¡ sá»Ÿ Ä‘á»ƒ Ä‘á»•i má»›i cÃ¡c lÄ©nh vá»±c khÃ¡c.', ans:true},
      {lbl:'c', txt:'Trong Ä‘á»•i má»›i kinh táº¿, cáº§n duy trÃ¬ cÆ¡ cáº¥u kinh táº¿ cÅ©, Ä‘á»“ng thá»i phÃ¡t triá»ƒn cÃ¡c ngÃ nh kinh táº¿ má»›i phÃ¹ há»£p hÆ¡n.', ans:false},
      {lbl:'d', txt:'Ngay sau 1986, Viá»‡t Nam Ä‘Ã£ hoÃ n thiá»‡n viá»‡c xÃ¢y dá»±ng cÆ¡ cáº¥u kinh táº¿ phÃ¹ há»£p vá»›i kháº£ nÄƒng cá»§a Ä‘áº¥t nÆ°á»›c vÃ  há»£p tÃ¡c quá»‘c táº¿.', ans:false}
    ]
  },
  {
    id:'p2q4',
    title:'CÃ¢u 4: Cho Ä‘oáº¡n tÆ° liá»‡u sau Ä‘Ã¢y:',
    passage:`"Quan há»‡ Viá»‡t Nam - áº¤n Äá»™ Ä‘Æ°á»£c hÃ¬nh thÃ nh tá»« lÃ¢u qua hoáº¡t Ä‘á»™ng giao lÆ°u vÄƒn hÃ³a vÃ  thÆ°Æ¡ng máº¡i. Cuá»™c Ä‘áº¥u tranh chá»‘ng chá»§ nghÄ©a thá»±c dÃ¢n trong tháº¿ ká»· XX lÃ m cho hai dÃ¢n tá»™c hiá»ƒu biáº¿t, gáº§n gÅ©i nhau vá»›i tÃªn tuá»•i cá»§a cÃ¡c nhÃ  lÃ£nh Ä‘áº¡o M. Gandhi, J. Nehru, Há»“ ChÃ­ Minh. NÄƒm 1972, Cá»™ng hÃ²a áº¤n Äá»™ vÃ  Viá»‡t Nam DÃ¢n chá»§ Cá»™ng hÃ²a chÃ­nh thá»©c thiáº¿t láº­p quan há»‡ ngoáº¡i giao cáº¥p Ä‘áº¡i sá»©. áº¤n Äá»™ luÃ´n á»§ng há»™ cuá»™c Ä‘áº¥u tranh giáº£i phÃ³ng dÃ¢n tá»™c, thá»‘ng nháº¥t Ä‘áº¥t nÆ°á»›c cá»§a nhÃ¢n dÃ¢n Viá»‡t Nam. áº¤n Äá»™ lÃ  má»™t trong sá»‘ Ã­t chÃ­nh phá»§ tá» thÃ¡i Ä‘á»™ á»§ng há»™ Viá»‡t Nam trong cuá»™c Ä‘áº¥u tranh giÃºp Ä‘á»¡ nhÃ¢n dÃ¢n Campuchia chá»‘ng bá»n diá»‡t chá»§ng KhÆ¡me Äá». ChÃ­nh sÃ¡ch Ä‘á»•i má»›i cá»§a Viá»‡t Nam (nÄƒm 1986) vÃ  ChÃ­nh sÃ¡ch hÃ nh Ä‘á»™ng hÆ°á»›ng ÄÃ´ng cá»§a áº¤n Äá»™ (nÄƒm 1991) lÃ m cho quan há»‡ giá»¯a hai nÆ°á»›c phÃ¡t triá»ƒn thuáº­n lá»£i, sá»± há»£p tÃ¡c trong nhá»¯ng nÄƒm Ä‘áº§u tháº¿ ká»· XXI ngÃ y cÃ ng hiá»‡u quáº£.`,
    src:'VÅ© DÆ°Æ¡ng Ninh: Lá»‹ch sá»­ quan há»‡ Ä‘á»‘i ngoáº¡i Viá»‡t Nam, NXB ChÃ­nh trá»‹ quá»‘c gia Sá»± tháº­t, 2021',
    items:[
      {lbl:'a', txt:'TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n quan há»‡ Ä‘á»‘i ngoáº¡i giá»¯a Viá»‡t Nam vÃ  áº¤n Äá»™ tá»« khi thiáº¿t láº­p quan há»‡ ngoáº¡i giao Ä‘áº¿n nay.', ans:true},
      {lbl:'b', txt:'áº¤n Äá»™ lÃ  má»™t trong nhá»¯ng nÆ°á»›c Ä‘áº§u tiÃªn cÃ´ng nháº­n vÃ  Ä‘áº·t quan há»‡ ngoáº¡i giao vá»›i Viá»‡t Nam DÃ¢n chá»§ Cá»™ng hÃ²a.', ans:false},
      {lbl:'c', txt:'Trong tháº¿ ká»· XX, áº¤n Äá»™ cÃ³ nhiá»u á»§ng há»™ Ä‘á»‘i vá»›i Viá»‡t Nam trong phong trÃ o giáº£i phÃ³ng dÃ¢n tá»™c vÃ  báº£o vá»‡ tá»• quá»‘c.', ans:true},
      {lbl:'d', txt:'Äáº§u tháº¿ ká»· XXI, Viá»‡t Nam vÃ  áº¤n Äá»™ ngÃ y cÃ ng há»£p tÃ¡c cÃ³ hiá»‡u quáº£, nÃ¢ng táº§m quan há»‡ Ä‘á»‘i tÃ¡c chiáº¿n lÆ°á»£c toÃ n diá»‡n.', ans:true}
    ]
  }
];

// ============================================================
// STATE
// ============================================================
let uAns={}, uTF={}, submitted=false, timer=null, tLeft=45*60, shuffled=[];

function shuffle(arr){
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}
  return a;
}

function init(){
  shuffled=shuffle(PART1);
  uAns={};uTF={};submitted=false;tLeft=45*60;
  render();startTimer();updateProg();
}

// ============================================================
// RENDER
// ============================================================
function render(){
  let html='';
  html+=`<div class="section-title">PHáº¦N I: CÃ¢u há»i tráº¯c nghiá»‡m (CÃ¢u 1 â€“ 24)</div>`;
  html+=`<div class="section-desc">ThÃ­ sinh tráº£ lá»i cÃ¢u há»i tá»« 1 Ä‘áº¿n 24. Má»—i cÃ¢u há»i thÃ­ sinh chá»‰ chá»n <strong>má»™t</strong> phÆ°Æ¡ng Ã¡n.</div>`;
  shuffled.forEach((q,i)=>{html+=renderQ1(q,i+1);});

  html+=`<div class="section-title" style="margin-top:40px;">PHáº¦N II: CÃ¢u há»i Ä‘Ãºng/sai (CÃ¢u 1 â€“ 4)</div>`;
  html+=`<div class="section-desc">Trong má»—i Ã½ a), b), c), d) á»Ÿ má»—i cÃ¢u, thÃ­ sinh chá»n <strong>ÄÃºng</strong> hoáº·c <strong>Sai</strong>.</div>`;
  PART2.forEach(q=>{html+=renderQ2(q);});

  document.getElementById('examContent').innerHTML=html;
}

function renderQ1(q,num){
  const L=['A','B','C','D'];
  let opts='';
  q.opts.forEach((o,i)=>{
    opts+=`<label class="option-label" id="lb_${q.id}_${i}" onclick="selOpt('${q.id}',${i})">
      <input type="radio" name="${q.id}">
      <span class="option-dot">${L[i]}</span>
      <span>${o.replace(/^[A-D]\.\s*/,'')}</span>
    </label>`;
  });
  return `<div class="question-card" id="card_${q.id}">
    <div class="question-num">CÃ¢u ${num}</div>
    <div class="question-text">${q.text.replace(/^CÃ¢u \d+[.:]?\s*/,'')}</div>
    <div class="options">${opts}</div>
    <div class="explanation" id="exp_${q.id}"></div>
  </div>`;
}

function renderQ2(q){
  let top='';
  if(q.table) top=`<div class="passage-box" style="font-style:normal;">${q.table}</div>`;
  else if(q.passage) top=`<div class="passage-box">${q.passage}<div class="passage-source">${q.src}</div></div>`;
  let its='';
  q.items.forEach(it=>{
    its+=`<div class="tf-item">
      <div class="tf-item-label"><strong>${it.lbl})</strong> ${it.txt}</div>
      <div class="tf-buttons">
        <button class="tf-btn" id="tT_${q.id}_${it.lbl}" onclick="selTF('${q.id}','${it.lbl}',true)">âœ“ ÄÃºng</button>
        <button class="tf-btn" id="tF_${q.id}_${it.lbl}" onclick="selTF('${q.id}','${it.lbl}',false)">âœ— Sai</button>
      </div>
    </div>`;
  });
  return `<div class="question-card">
    <div class="question-num">ğŸ“Œ ${q.title}</div>
    ${top}
    <div class="tf-grid">${its}</div>
  </div>`;
}

// ============================================================
// INTERACTIONS
// ============================================================
function selOpt(id,idx){
  if(submitted)return;
  uAns[id]=idx;
  const q=PART1.find(q=>q.id===id);
  q.opts.forEach((_,i)=>{
    const l=document.getElementById(`lb_${id}_${i}`);
    if(l)l.classList.toggle('selected',i===idx);
  });
  updateProg();
}

function selTF(qid,lbl,val){
  if(submitted)return;
  const k=`${qid}_${lbl}`;uTF[k]=val;
  const t=document.getElementById(`tT_${qid}_${lbl}`);
  const f=document.getElementById(`tF_${qid}_${lbl}`);
  if(t){t.classList.toggle('sel-T',val===true);t.classList.remove('sel-F');}
  if(f){f.classList.toggle('sel-F',val===false);f.classList.remove('sel-T');}
  updateProg();
}

// ============================================================
// PROGRESS
// ============================================================
function updateProg(){
  const total=PART1.length+PART2.reduce((s,q)=>s+q.items.length,0);
  const done=Object.keys(uAns).length+Object.keys(uTF).length;
  document.getElementById('answeredCount').textContent=done;
  document.getElementById('totalQ').textContent=total;
  document.getElementById('progressBar').style.width=(done/total*100)+'%';
}

// ============================================================
// TIMER
// ============================================================
function startTimer(){
  if(timer)clearInterval(timer);
  updTimer();
  timer=setInterval(()=>{tLeft--;updTimer();if(tLeft<=0){clearInterval(timer);doSubmit();}},1000);
}
function updTimer(){
  const m=Math.floor(tLeft/60),s=tLeft%60;
  const el=document.getElementById('timerDisplay');
  el.textContent=String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
  el.className='timer-display';
  if(tLeft<=300&&tLeft>60)el.classList.add('warning');
  if(tLeft<=60)el.classList.add('danger');
}

// ============================================================
// SUBMIT
// ============================================================
function confirmSubmit(){
  const total=PART1.length+PART2.reduce((s,q)=>s+q.items.length,0);
  const done=Object.keys(uAns).length+Object.keys(uTF).length;
  const un=total-done;
  let msg=`Báº¡n Ä‘Ã£ tráº£ lá»i <strong>${done}/${total}</strong> cÃ¢u há»i.`;
  if(un>0)msg+=`<br><span style="color:var(--warning)">âš ï¸ CÃ²n ${un} cÃ¢u chÆ°a tráº£ lá»i.</span>`;
  msg+='<br><br>Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n ná»™p bÃ i?';
  document.getElementById('confirmMsg').innerHTML=msg;
  document.getElementById('confirmModal').classList.add('show');
}
function closeConfirm(){document.getElementById('confirmModal').classList.remove('show');}

function doSubmit(){
  closeConfirm();clearInterval(timer);submitted=true;
  let p1c=0;
  shuffled.forEach(q=>{if(uAns[q.id]===q.ans)p1c++;});
  const p1s=p1c*0.25;
  let p2s=0;
  PART2.forEach(q=>{
    let c=0;
    q.items.forEach(it=>{const v=uTF[`${q.id}_${it.lbl}`];if(v!==undefined&&v===it.ans)c++;});
    if(c===1)p2s+=0.1;else if(c===2)p2s+=0.25;else if(c===3)p2s+=0.5;else if(c===4)p2s+=1.0;
  });
  showResult(p1s+p2s,p1s,p2s,p1c);
  markAll();
}

function markAll(){
  const L=['A','B','C','D'];
  shuffled.forEach(q=>{
    q.opts.forEach((_,i)=>{
      const l=document.getElementById(`lb_${q.id}_${i}`);
      if(!l)return;
      l.classList.remove('selected','correct','wrong');
      if(i===q.ans)l.classList.add('correct');
      else if(uAns[q.id]===i)l.classList.add('wrong');
    });
    const ex=document.getElementById(`exp_${q.id}`);
    if(ex){
      const ok=uAns[q.id]===q.ans;
      ex.innerHTML=ok
        ?`âœ… <strong>ChÃ­nh xÃ¡c!</strong> ÄÃ¡p Ã¡n: <strong>${L[q.ans]}</strong>.`
        :`âŒ <strong>Sai.</strong> ÄÃ¡p Ã¡n Ä‘Ãºng: <strong>${L[q.ans]}</strong>.`;
      ex.classList.add('show');
    }
  });
  PART2.forEach(q=>{
    q.items.forEach(it=>{
      const k=`${q.id}_${it.lbl}`;
      const uv=uTF[k],cv=it.ans;
      const t=document.getElementById(`tT_${q.id}_${it.lbl}`);
      const f=document.getElementById(`tF_${q.id}_${it.lbl}`);
      const cls=['sel-T','sel-F','ok-T','bad-T','ok-F','bad-F'];
      if(t){t.classList.remove(...cls);if(cv===true)t.classList.add('ok-T');else if(uv===true)t.classList.add('bad-T');}
      if(f){f.classList.remove(...cls);if(cv===false)f.classList.add('ok-F');else if(uv===false)f.classList.add('bad-F');}
    });
  });
  document.getElementById('btnSubmit').disabled=true;
}

function showResult(total,p1,p2,p1c){
  const icon=total>=8?'ğŸ†':total>=6?'ğŸ“':total>=4?'ğŸ“š':'ğŸ’ª';
  const title=total>=8?'Xuáº¥t sáº¯c!':total>=6?'KhÃ¡ tá»‘t!':total>=4?'Cáº§n cá»‘ gáº¯ng thÃªm':'HÃ£y Ã´n táº­p thÃªm';
  document.getElementById('resultIcon').textContent=icon;
  document.getElementById('resultTitle').textContent=title;
  document.getElementById('scoreBig').textContent=total.toFixed(2)+' / 10';
  document.getElementById('scoreRow').innerHTML=`
    <div class="score-box"><div class="sb-lbl">Pháº§n I</div><div class="sb-val">${p1.toFixed(2)}</div></div>
    <div class="score-box"><div class="sb-lbl">Pháº§n II</div><div class="sb-val">${p2.toFixed(2)}</div></div>
    <div class="score-box"><div class="sb-lbl">P1 ÄÃºng</div><div class="sb-val">${p1c}/24</div></div>
  `;
  document.getElementById('scoreDetail').innerHTML=`Tá»•ng Ä‘iá»ƒm: <strong>${total.toFixed(2)}</strong> / 10`;
  document.getElementById('resultModal').classList.add('show');
}

function reviewAnswers(){document.getElementById('resultModal').classList.remove('show');window.scrollTo({top:0,behavior:'smooth'});}
function retryExam(){document.getElementById('resultModal').classList.remove('show');init();window.scrollTo({top:0,behavior:'smooth'});}

window.onload=init;
</script>
</body>
</html>
